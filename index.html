<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#0a1120">
<title>Road Trip Tracker</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif; background: #0a1120; color: #e2e8f0; }
  #root { min-height: 100vh; }
</style>
</head>
<body>
<div id="root"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>

<script>
const { useState, useEffect, createElement: h } = React;

const LEGS = [
  {
    id: "leg1", num: 1, title: "Mena ‚Üí Hochatown, OK",
    meta: "1hr 43min ¬∑ 87 mi ¬∑ Ouachita Mountains",
    routeUrl: "https://www.google.com/maps/dir/315+Polk+County+Rd+684,+Mena,+AR+71953/TJ's+Country+Store,+101+E+Hornbeck+Ave,+Hatfield,+AR/Spillway+Overlook,+Broken+Bow,+OK/Hochatown+Distilling+Company,+41+N+Lukfata+Trl+Rd,+Broken+Bow,+OK/Janet's+Treasure+Chest,+Broken+Bow,+OK/The+Forest+Store+Hochatown,+6427+N+US+Hwy+259,+Broken+Bow,+OK/Loblolly+Chocolates,+6427+N+US+Hwy+259,+Broken+Bow,+OK/Hochatime,+9231+US-259,+Hochatown,+OK",
    stops: [
      { id: "tjs", name: "T.J.'s Country Store", tag: "FOOD", tagColor: "food", emoji: "ü•ß", desc: "Mom-and-pop gem in Hatfield. Famous homemade pies & breakfast. Right on US-59.", hours: "M-F 5AM-10PM, Sa-Su 6AM-10PM", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJcfaR6Gcqy4cRQ-MWoaEZU58" },
      { id: "cossatot", name: "Cossatot Falls", tag: "DETOUR 25min", tagColor: "nature", emoji: "‚≠ê", desc: "\"Skull Crusher\" river canyon. Easy 0.9mi hike, 30 min round trip. Gravel roads off AR-4.", hours: "Open 24 hours", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJyTNkbd_RNIYRYxr9hfGTwqg" },
      { id: "spillway", name: "Spillway Overlook", tag: "SCENIC", tagColor: "scenic", emoji: "üì∑", desc: "Broken Bow Lake dam. Crystal-clear water, pine mountains. 5 min photo stop.", hours: "Open 24 hours", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJvYO-JMo4NYYRMTQMmzUVAKs" },
      { id: "distillery", name: "Hochatown Distilling Co", tag: "ü•É HIM", tagColor: "him", emoji: "ü•É", desc: "4.9‚òÖ bourbon distillery with hidden speakeasy. Ask for Rod. Book ahead!", hours: "M-Th 10-6, F-Sa 10-7, Su 10-5", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJ99d5UBxHNYYRCs-KcQiRH5E" },
      { id: "janets", name: "Janet's Treasure Chest", tag: "üß≤ OK MAGNET", tagColor: "magnet", emoji: "üß≤", desc: "Reviews mention beautiful magnets & handmade crafts. Eclectic souvenirs.", hours: "Daily 9AM-5PM", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJ7-XSU7hANYYRxeW0jb-_B4A" },
      { id: "forest", name: "The Forest Store", tag: "üéÅ HER", tagColor: "her", emoji: "üå≤", desc: "4.9‚òÖ upscale nature goods. Candles, art, crochet kits, live-edge wood. ‚ö†Ô∏è Closed Tuesdays.", hours: "Check ‚Äî varies by day", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJpyTbr49BNYYRasOcNfgqhsA" },
      { id: "loblolly", name: "Loblolly Chocolates", tag: "üç´ BOTH", tagColor: "both", emoji: "üç´", desc: "4.9‚òÖ handmade artisan chocolates. Wild truffle flavors. Next to Forest Store in HochaBow.", hours: "Daily 10AM-9PM (F-Su 9AM)", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJpU_iXC1HNYYRLQVYmwSQEMg" },
      { id: "hochatime", name: "Hochatime", tag: "üëï OK BRAND", tagColor: "brand", emoji: "üëï", desc: "Oklahoma lifestyle brand. Locally designed tees, hoodies, hats. Premium quality, $2 stickers.", hours: "Daily 9AM-5PM", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJjebrwqxHNYYR50N1tpROu9A" },
    ],
  },
  {
    id: "leg2", num: 2, title: "Hochatown ‚Üí Jefferson, TX",
    meta: "1hr 58min ¬∑ 111 mi ¬∑ East TX piney woods & bayou",
    routeUrl: "https://www.google.com/maps/dir/Hochatime,+9231+US-259,+Hochatown,+OK/Olde+1852+Market+Company,+124+S+Main+St,+Linden,+TX/Lonesome+Dove+Drive+Thru+Safari,+1782+US-59,+Jefferson,+TX/Jefferson+General+Store,+113+E+Austin+St,+Jefferson,+TX/Texas+Treasures,+214+N+Polk+St,+Jefferson,+TX/Made+in+the+Shade+Boutique,+118+E+Henderson+St,+Jefferson,+TX/Foodie+Tasting+Room,+114+W+Lafayette+St,+Jefferson,+TX/Auntie+Skinner's+Riverboat+Club,+107+W+Austin+St,+Jefferson,+TX/Caddo+Lake+State+Park,+245+Park+Rd+2,+Karnack,+TX",
    stops: [
      { id: "olde1852", name: "Olde 1852 Market Co", tag: "üéÅ HER", tagColor: "her", emoji: "üéÅ", desc: "5.0‚òÖ charming gift shop in Linden. Local artisan goods. Owner JoAnn is lovely.", hours: "M-F 9-5, Sa 10-2, Su closed", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJbQ5S4Q4rNIYROVijJ0JL1Uk" },
      { id: "safari", name: "Lonesome Dove Safari", tag: "üêÉ BOTH", tagColor: "both", emoji: "ü¶ì", desc: "Drive-through exotic safari ‚Äî zebras, camels, buffalo, ostriches. 45-60 min.", hours: "Daily 10:30AM-4:30PM", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJsVcfNUmJNoYR2LQNei-17WQ" },
      { id: "generalstore", name: "Jefferson General Store", tag: "‚≠ê BOTH", tagColor: "both", emoji: "üç∫", desc: "4.8‚òÖ, 1,800+ reviews. Root beer floats, vintage candy, gifts. THE Jefferson landmark.", hours: "M-Th 9-6, F-Sa 9-10, Su 9-6", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJibet2xKJNoYRL61Z_01wNeU" },
      { id: "txtreasures", name: "Texas Treasures", tag: "üß≤ TX MAGNET", tagColor: "magnet", emoji: "üß≤", desc: "Texas-themed trinkets, jewelry, collectibles. Her Texas fridge magnet stop!", hours: "Daily 10AM-5PM", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJwXSIkxKJNoYR9fKI11NXVB4" },
      { id: "ggs", name: "GG's Antiques", tag: "üéÅ HER", tagColor: "her", emoji: "üè∫", desc: "5.0‚òÖ in old nursing home. Local artisan crafts, ceramics, vintage. ‚ö†Ô∏è Closed Sundays.", hours: "M-Sa 10-5, Su closed", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJAQBEjBKJNoYReRaIDU3iJpI" },
      { id: "madeintheshade", name: "Made in the Shade", tag: "üéÅ HER", tagColor: "her", emoji: "üê±", desc: "4.8‚òÖ handmade decor, jewelry, six cats roaming, gem mining ($10+).", hours: "M-Sa 10-5, Su 11-4", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJdTigGBOJNoYRm10zJS7hz2k" },
      { id: "yesteryear", name: "Yesteryear Gift Shop", tag: "üéÅ HER", tagColor: "her", emoji: "üéÑ", desc: "40+ years in business. Multiple themed rooms. Jewelry, decor, Christmas year-round.", hours: "W-F 10-5, Sa 10-6, Su 11-4, Tu 12-5, M closed", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJtbSU2hKJNoYR5AZ2Ry7M37A" },
      { id: "foodie", name: "Foodie Tasting Room", tag: "üéÅ PARENTS", tagColor: "gift", emoji: "ü´í", desc: "Artisan balsamic, olive oils, jams, coffee. Gift basket for Benton. ‚ö†Ô∏è Closed Mon-Tue.", hours: "W-Sa 10-5, Su 10-3", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJBS6RUBuJNoYRZ_tEjcc0AAA" },
      { id: "skinners", name: "Auntie Skinner's", tag: "üç∫ HIM", tagColor: "him", emoji: "üçª", desc: "Historic bar & grill. Full bar, good food, live music. ‚ö†Ô∏è CLOSED TUESDAYS.", hours: "Varies ‚Äî closed Tue", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJEQS72hKJNoYRqqx9OF5z9gY" },
      { id: "caddo", name: "Caddo Lake State Park", tag: "DETOUR 15min", tagColor: "nature", emoji: "‚≠ê", desc: "Surreal bald cypress bayou. Spanish moss, mirror water. Boardwalk or canoe ($20). $4/person.", hours: "Daily 6AM-10PM", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJ4RDHJA-TNoYR-0ucS97gGkw" },
    ],
  },
  {
    id: "leg3", num: 3, title: "Jefferson ‚Üí Benton, LA",
    meta: "1hr 13min ¬∑ 60 mi ¬∑ Piney woods to home",
    routeUrl: "https://www.google.com/maps/dir/Jefferson,+TX+75657/The+Seventh+Tap+Eastbank,+525+Barksdale+Blvd,+Bossier+City,+LA/127+Oak+Leaf+TR,+Benton,+LA+71006",
    stops: [
      { id: "seventhtap", name: "The Seventh Tap Eastbank", tag: "üç∫ HIM", tagColor: "him", emoji: "üç∫", desc: "4.8‚òÖ ‚Äî Amazing craft beer, smash burgers & fries. IPAs, sours, stouts. ‚ö†Ô∏è Closed Mondays.", hours: "Tu-W 4-10, Th-Sa 11-10, Su 11-9", mapsUrl: "https://www.google.com/maps/place/?q=place_id:ChIJq1mlTKfJNoYR6k5vCYdgJdI" },
      { id: "home", name: "Home ‚Äî 127 Oak Leaf TR", tag: "üè†", tagColor: "home", emoji: "üè†", desc: "~20 min from Seventh Tap. Arrive loaded with magnets, bourbon, chocolates & stories.", hours: "", mapsUrl: "" },
    ],
  },
];

const TAG_COLORS = {
  scenic: { bg: "#064e3b", color: "#6ee7b7" },
  him: { bg: "#78350f", color: "#fbbf24" },
  her: { bg: "#4a1d6a", color: "#c084fc" },
  both: { bg: "#1e3a5f", color: "#7dd3fc" },
  magnet: { bg: "#7f1d1d", color: "#fca5a5" },
  food: { bg: "#713f12", color: "#fde68a" },
  gift: { bg: "#365314", color: "#bef264" },
  nature: { bg: "#064e3b", color: "#6ee7b7" },
  brand: { bg: "#312e81", color: "#a5b4fc" },
  home: { bg: "#374151", color: "#d1d5db" },
};

function StopCard({ stop, visited, onToggle }) {
  const tagStyle = TAG_COLORS[stop.tagColor] || TAG_COLORS.both;
  return h("div", { style: { position: "relative", padding: "14px 14px 14px 48px", marginBottom: 2, background: visited ? "#0c1f18" : "#111b27", borderLeft: "3px solid " + (visited ? "#22c55e" : "#1e3348"), transition: "all 0.2s ease", opacity: visited ? 0.7 : 1 } },
    h("button", { onClick: onToggle, style: { position: "absolute", left: 12, top: 16, width: 24, height: 24, borderRadius: 6, border: "2px solid " + (visited ? "#22c55e" : "#334155"), background: visited ? "#22c55e" : "transparent", cursor: "pointer", display: "flex", alignItems: "center", justifyContent: "center", fontSize: 14, color: "#fff", padding: 0, flexShrink: 0 } }, visited ? "‚úì" : ""),
    h("div", { style: { display: "flex", alignItems: "center", gap: 8, flexWrap: "wrap" } },
      h("span", { style: { fontSize: 15, fontWeight: 700, color: visited ? "#6b8068" : "#e2e8f0", textDecoration: visited ? "line-through" : "none" } }, stop.emoji + " " + stop.name),
      h("span", { style: { fontSize: 10, fontWeight: 700, padding: "2px 7px", borderRadius: 4, background: tagStyle.bg, color: tagStyle.color, whiteSpace: "nowrap" } }, stop.tag)
    ),
    h("div", { style: { fontSize: 12, color: "#6b8599", marginTop: 4, lineHeight: 1.45 } }, stop.desc),
    stop.hours ? h("div", { style: { fontSize: 11, color: "#4a6275", marginTop: 3 } }, "üïê " + stop.hours) : null,
    stop.mapsUrl ? h("a", { href: stop.mapsUrl, target: "_blank", rel: "noopener noreferrer", style: { display: "inline-block", marginTop: 6, fontSize: 12, color: "#60a5fa", textDecoration: "none", padding: "4px 10px", background: "#172032", borderRadius: 6 } }, "üìç Open in Maps") : null
  );
}

function LegSection({ leg, visited, onToggleStop }) {
  const countable = leg.stops.filter(function(s) { return s.mapsUrl; });
  const visitedCount = countable.filter(function(s) { return visited[s.id]; }).length;
  const progress = countable.length > 0 ? (visitedCount / countable.length) * 100 : 0;
  const done = progress === 100;

  return h("div", { style: { marginBottom: 32 } },
    h("div", { style: { display: "flex", alignItems: "center", gap: 10, marginBottom: 4 } },
      h("div", { style: { width: 32, height: 32, borderRadius: "50%", background: done ? "#22c55e" : "#2563eb", display: "flex", alignItems: "center", justifyContent: "center", fontWeight: 800, fontSize: 14, color: "#fff", flexShrink: 0 } }, done ? "‚úì" : leg.num),
      h("div", null,
        h("div", { style: { fontSize: 17, fontWeight: 700, color: "#f1f5f9" } }, leg.title),
        h("div", { style: { fontSize: 12, color: "#64748b" } }, leg.meta)
      )
    ),
    h("div", { style: { margin: "8px 0 6px 42px", height: 4, background: "#1e293b", borderRadius: 2, overflow: "hidden" } },
      h("div", { style: { height: "100%", width: progress + "%", background: done ? "#22c55e" : "#3b82f6", borderRadius: 2, transition: "width 0.4s ease" } })
    ),
    h("div", { style: { fontSize: 11, color: "#4a6275", marginLeft: 42, marginBottom: 10 } }, visitedCount + "/" + countable.length + " stops visited"),
    h("a", { href: leg.routeUrl, target: "_blank", rel: "noopener noreferrer", style: { display: "block", background: "#1a73e8", color: "#fff", textDecoration: "none", padding: "13px 16px", borderRadius: 10, fontSize: 15, fontWeight: 700, textAlign: "center", marginBottom: 12 } }, "üß≠ Open Full Route in Google Maps"),
    h("div", { style: { borderRadius: 10, overflow: "hidden" } },
      leg.stops.map(function(stop) {
        return h(StopCard, { key: stop.id, stop: stop, visited: !!visited[stop.id], onToggle: function() { onToggleStop(stop.id); } });
      })
    )
  );
}

function App() {
  const [visited, setVisited] = useState(function() {
    try {
      var saved = localStorage.getItem("road-trip-visited");
      return saved ? JSON.parse(saved) : {};
    } catch(e) { return {}; }
  });

  useEffect(function() {
    try { localStorage.setItem("road-trip-visited", JSON.stringify(visited)); } catch(e) {}
  }, [visited]);

  function toggleStop(stopId) {
    setVisited(function(prev) {
      var next = Object.assign({}, prev);
      if (next[stopId]) { delete next[stopId]; } else { next[stopId] = Date.now(); }
      return next;
    });
  }

  var allStops = LEGS.flatMap(function(l) { return l.stops; }).filter(function(s) { return s.mapsUrl; });
  var totalVisited = allStops.filter(function(s) { return visited[s.id]; }).length;
  var overallPct = allStops.length > 0 ? Math.round((totalVisited / allStops.length) * 100) : 0;

  function resetAll() {
    if (confirm("Reset all progress? This can't be undone.")) { setVisited({}); }
  }

  return h("div", { style: { maxWidth: 480, margin: "0 auto", padding: "20px 16px 40px" } },
    // Header
    h("div", { style: { textAlign: "center", marginBottom: 24 } },
      h("div", { style: { fontSize: 32, marginBottom: 4 } }, "üó∫Ô∏è"),
      h("h1", { style: { fontSize: 22, fontWeight: 800, color: "#f8fafc" } }, "Mena ‚Üí OK ‚Üí TX ‚Üí Benton"),
      h("div", { style: { fontSize: 13, color: "#64748b", marginTop: 4 } }, "3 states ¬∑ ~4.5 hrs driving ¬∑ " + allStops.length + " stops"),

      // Progress ring
      h("div", { style: { marginTop: 16, padding: "12px 16px", background: "#111b27", borderRadius: 12, display: "flex", alignItems: "center", gap: 12 } },
        h("div", { style: { width: 48, height: 48, borderRadius: "50%", background: "conic-gradient(" + (overallPct === 100 ? "#22c55e" : "#3b82f6") + " " + overallPct + "%, #1e293b " + overallPct + "%)", display: "flex", alignItems: "center", justifyContent: "center", flexShrink: 0 } },
          h("div", { style: { width: 38, height: 38, borderRadius: "50%", background: "#111b27", display: "flex", alignItems: "center", justifyContent: "center", fontSize: 13, fontWeight: 800, color: overallPct === 100 ? "#22c55e" : "#93c5fd" } }, overallPct + "%")
        ),
        h("div", { style: { textAlign: "left" } },
          h("div", { style: { fontSize: 15, fontWeight: 700, color: "#f1f5f9" } }, overallPct === 100 ? "üéâ Trip Complete!" : "Trip Progress"),
          h("div", { style: { fontSize: 12, color: "#64748b" } }, totalVisited + " of " + allStops.length + " stops visited")
        )
      )
    ),

    // Checklist
    h("div", { style: { background: "#111b27", borderRadius: 10, padding: "12px 14px", marginBottom: 20, fontSize: 13, lineHeight: 1.8, color: "#8899aa" } },
      h("div", { style: { fontWeight: 700, color: "#cbd5e1", marginBottom: 4 } }, "üéØ Don't Forget"),
      h("div", null, "üß≤ OK magnet ‚Üí Janet's Treasure Chest"),
      h("div", null, "üß≤ TX magnet ‚Üí Texas Treasures, Jefferson"),
      h("div", null, "ü•É Bourbon ‚Üí Hochatown Distilling (book ahead!)"),
      h("div", null, "üëï OK brand ‚Üí Hochatime tees & hoodies"),
      h("div", null, "üì∑ Best photos ‚Üí Caddo Lake, Spillway, Cossatot Falls"),
      h("div", null, "üéÅ Parents ‚Üí Foodie Tasting Room, Jefferson")
    ),

    // Closures
    h("div", { style: { background: "#1c1208", border: "1px solid rgba(133,77,14,0.2)", borderRadius: 10, padding: "10px 14px", marginBottom: 24, fontSize: 12, color: "#ca8a04", lineHeight: 1.7 } },
      h("strong", null, "‚ö†Ô∏è Day-of-week closures"), h("br"),
      "Mon: Auntie Skinner's, Yesteryear, Foodie Tasting, Seventh Tap", h("br"),
      "Tue: Auntie Skinner's, Foodie Tasting, Forest Store, Seventh Tap", h("br"),
      "Sun: GG's, Olde 1852 Market"
    ),

    // Legs
    LEGS.map(function(leg) {
      return h(LegSection, { key: leg.id, leg: leg, visited: visited, onToggleStop: toggleStop });
    }),

    // Reset
    h("div", { style: { textAlign: "center", marginTop: 16 } },
      h("button", { onClick: resetAll, style: { background: "transparent", border: "1px solid #1e293b", color: "#475569", fontSize: 12, padding: "8px 20px", borderRadius: 8, cursor: "pointer" } }, "Reset All Progress")
    )
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(h(App));
</script>
</body>
</html>
